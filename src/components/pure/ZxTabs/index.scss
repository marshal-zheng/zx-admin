// ZxTabs 标签页组件样式
// 基于 Element Plus 的增强标签页组件样式

// 引入 CSS 变量定义
@import './var.scss';

// 主组件样式
.zx-tabs {
  width: 100%;

  // Element Plus 标签页基础样式覆盖
  .el-tabs__header {
    margin: var(--cmp-tabs-header-margin);

    .el-tabs__nav-wrap {
      &::after {
        background-color: var(--cmp-tabs-border-color);
      }
    }

    .el-tabs__nav {
      .el-tabs__item {
        height: var(--cmp-tabs-header-height);
        line-height: var(--cmp-tabs-header-height);
        padding: 0 var(--cmp-tabs-item-padding-h);
        color: var(--cmp-tabs-text-secondary);
        transition: all var(--cmp-tabs-transition-duration) var(--cmp-tabs-transition-timing);

        &:hover {
          color: var(--cmp-tabs-item-hover-color);
        }

        &.is-active {
          color: var(--cmp-tabs-item-active-color);
        }

        &.is-disabled {
          color: var(--cmp-tabs-disabled-color);
          cursor: not-allowed;
        }
      }

      .el-tabs__active-bar {
        background-color: var(--cmp-tabs-active-bar-bg);
        height: var(--cmp-tabs-active-bar-height);
      }
    }

    // 新增和关闭按钮
    .el-tabs__new-tab {
      color: var(--cmp-tabs-new-btn-color);

      &:hover {
        color: var(--cmp-tabs-new-btn-hover-color);
      }
    }
  }

  // 内容区域
  .el-tabs__content {
    .el-tab-pane {
      // 基础内容样式在这里可以自定义
    }
  }

  // 拖拽功能样式
  &.zx-tabs-draggable {
    .el-tabs__item {
      cursor: var(--cmp-tabs-drag-cursor);
      user-select: none;

      &:active {
        cursor: var(--cmp-tabs-drag-active-cursor);
      }

      &.is-dragging {
        opacity: var(--cmp-tabs-drag-opacity);
        transform: scale(var(--cmp-tabs-drag-scale));
      }
    }
  }

  // URL同步标识
  &.zx-tabs-url-sync {
    .el-tabs__item.is-active {
      position: relative;

      &::after {
        content: '';
        position: absolute;
        top: var(--cmp-tabs-url-indicator-position-top);
        right: var(--cmp-tabs-url-indicator-position-right);
        width: var(--cmp-tabs-url-indicator-size);
        height: var(--cmp-tabs-url-indicator-size);
        background-color: var(--cmp-tabs-url-indicator-color);
        border-radius: 50%;
        opacity: var(--cmp-tabs-url-indicator-opacity);
      }
    }
  }

  // 标签页内容样式
  .zx-tabs-content {
    min-height: var(--cmp-tabs-content-min-height);
    padding: var(--cmp-tabs-content-padding);
    background-color: var(--cmp-tabs-content-bg);
    color: var(--cmp-tabs-content-color);
    border-radius: var(--cmp-tabs-content-border-radius);
    transition: var(--cmp-tabs-content-transition);

    // 内容淡入动画
    animation: zx-tabs-content-fade-in var(--cmp-tabs-transition-duration)
      var(--cmp-tabs-transition-timing);
  }

  // 加载状态样式
  .zx-tabs-loading {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: var(--cmp-tabs-loading-min-height);
    color: var(--cmp-tabs-loading-color);
    background-color: var(--cmp-tabs-loading-bg);
    border-radius: var(--cmp-tabs-content-border-radius);

    .el-icon {
      font-size: var(--cmp-tabs-loading-icon-size);
      margin-bottom: var(--cmp-tabs-gap);
    }

    span {
      font-size: var(--cmp-tabs-loading-text-size);
    }
  }
}

// 动画定义
@keyframes zx-tabs-content-fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// 卡片类型样式增强
.zx-tabs {
  &.el-tabs--card {
    .el-tabs__header {
      .el-tabs__item {
        border: 1px solid var(--cmp-tabs-card-border);
        border-bottom: none;
        border-radius: var(--cmp-tabs-card-border-radius) var(--cmp-tabs-card-border-radius) 0 0;
        background-color: var(--cmp-tabs-card-bg);

        &.is-active {
          background-color: var(--cmp-tabs-card-active-bg);
          border-color: var(--cmp-tabs-primary-color);
        }
      }
    }
  }

  &.el-tabs--border-card {
    border: 1px solid var(--cmp-tabs-border-card-border);
    border-radius: var(--cmp-tabs-border-card-radius);

    .el-tabs__content {
      padding: var(--cmp-tabs-content-padding);
    }
  }
}

// 响应式设计
@media (max-width: 768px) {
  .zx-tabs {
    .el-tabs__header {
      .el-tabs__item {
        padding: var(--cmp-tabs-mobile-item-padding);
        font-size: var(--cmp-tabs-mobile-item-font-size);
      }
    }

    .zx-tabs-content {
      padding: var(--cmp-tabs-mobile-content-padding);
    }
  }
}

@media (max-width: 480px) {
  .zx-tabs {
    .el-tabs__header {
      .el-tabs__item {
        padding: var(--cmp-tabs-small-item-padding);
        font-size: var(--cmp-tabs-small-item-font-size);
      }
    }

    .zx-tabs-content {
      padding: var(--cmp-tabs-small-content-padding);
    }
  }
}

// 垂直标签页样式
.zx-tabs {
  &.el-tabs--left,
  &.el-tabs--right {
    .el-tabs__header {
      .el-tabs__item {
        text-align: var(--cmp-tabs-vertical-item-text-align);
        padding: var(--cmp-tabs-item-padding-v) var(--cmp-tabs-item-padding-h);
      }
    }
  }
}

// 可编辑标签页样式
.zx-tabs {
  .el-tabs__item {
    .el-icon-close {
      margin-left: 6px;
      border-radius: 50%;
      transition: all var(--cmp-tabs-transition-duration) var(--cmp-tabs-transition-timing);

      &:hover {
        background-color: var(--cmp-tabs-close-btn-hover-bg);
        color: var(--cmp-tabs-close-btn-hover-color);
      }
    }
  }
}

// 拉伸样式
.zx-tabs {
  &.el-tabs--stretch {
    .el-tabs__nav {
      .el-tabs__item {
        flex: 1;
        text-align: center;
      }
    }
  }
}
