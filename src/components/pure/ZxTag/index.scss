// 导入 CSS3 变量定义
@import './var.scss';

.zx-tag {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  text-align: center;
  box-sizing: border-box;
  outline: none;
  transition: var(--cmp-tag-transition);
  user-select: none;
  border-radius: var(--cmp-tag-border-radius);
  box-shadow: var(--cmp-tag-shadow);

  &.zx-tag-no-margin {
    margin-right: 0 !important;
  }

  .zx-tag-content {
    display: inline-flex;
    align-items: center;
    gap: var(--cmp-tag-icon-gap);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 100%;
  }

  .zx-tag-icon {
    display: inline-flex;
    align-items: center;
    flex-shrink: 0;
    font-size: var(--cmp-tag-icon-size);
  }

  .zx-tag-text {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  // 主题样式 - 使用系统主题变量
  &.zx-tag-dark {
    :deep(.el-tag) {
      color: var(--cmp-tag-dark-text);
      background-color: var(--cmp-tag-dark-bg);
      border-color: var(--cmp-tag-dark-border);
    }
  }

  &.zx-tag-light {
    :deep(.el-tag) {
      color: var(--cmp-tag-light-text);
      background-color: var(--cmp-tag-light-bg);
      border-color: var(--cmp-tag-light-border);
    }
  }

  &.zx-tag-plain {
    :deep(.el-tag) {
      color: var(--cmp-tag-plain-text);
      background-color: var(--cmp-tag-plain-bg);
      border-color: var(--cmp-tag-plain-border);
    }
  }

  // 尺寸样式
  &.zx-tag-large {
    :deep(.el-tag) {
      height: var(--cmp-tag-height-large);
      padding: var(--cmp-tag-padding-large);
      font-size: var(--cmp-tag-font-size-large);
      line-height: var(--cmp-tag-line-height-large);
    }
  }

  &.zx-tag-default {
    :deep(.el-tag) {
      height: var(--cmp-tag-height-default);
      padding: var(--cmp-tag-padding-default);
      font-size: var(--cmp-tag-font-size-default);
      line-height: var(--cmp-tag-line-height-default);
    }
  }

  &.zx-tag-small {
    :deep(.el-tag) {
      height: var(--cmp-tag-height-small);
      padding: var(--cmp-tag-padding-small);
      font-size: var(--cmp-tag-font-size-small);
      line-height: var(--cmp-tag-line-height-small);
    }
  }

  // 关闭按钮样式
  :deep(.el-tag__close) {
    margin-left: var(--cmp-tag-close-margin);
    font-size: var(--cmp-tag-close-size);
    color: var(--cmp-tag-close-color);
    cursor: pointer;
    transition: var(--cmp-tag-transition);

    &:hover {
      color: var(--cmp-tag-close-hover-color);
    }
  }

  // 响应式设计
  @media (max-width: 768px) {
    max-width: var(--cmp-tag-mobile-max-width);
    font-size: var(--cmp-tag-font-size-small);
    padding: var(--cmp-tag-padding-small);

    .zx-tag-content {
      max-width: calc(var(--cmp-tag-mobile-max-width) - 20px);
    }
  }
}

// CSS3 变量定义
:root {
  // 基础间距
  --cmp-tag-margin: var(--el-tag-margin, 0 8px 8px 0);
  --cmp-tag-padding-large: var(--el-tag-padding-large, 0 12px);
  --cmp-tag-padding-default: var(--el-tag-padding, 0 8px);
  --cmp-tag-padding-small: var(--el-tag-padding-small, 0 6px);
  --cmp-tag-icon-gap: 4px;

  // 尺寸
  --cmp-tag-height-large: var(--el-component-size-large, 32px);
  --cmp-tag-height-default: var(--el-component-size, 24px);
  --cmp-tag-height-small: var(--el-component-size-small, 20px);
  --cmp-tag-max-width: 144px;
  --cmp-tag-mobile-max-width: 120px;
  --cmp-tag-icon-size: 14px;

  // 字体
  --cmp-tag-font-size-large: var(--el-tag-font-size-large, 14px);
  --cmp-tag-font-size-default: var(--el-tag-font-size, 12px);
  --cmp-tag-font-size-small: var(--el-tag-font-size-small, 12px);
  --cmp-tag-line-height-large: var(--el-tag-line-height-large, 30px);
  --cmp-tag-line-height-default: var(--el-tag-line-height, 22px);
  --cmp-tag-line-height-small: var(--el-tag-line-height-small, 18px);

  // 过渡动画
  --cmp-tag-transition: var(--el-transition-all, all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1));

  // 边框圆角
  --cmp-tag-border-radius: var(--el-tag-border-radius, var(--el-border-radius-base));
  --cmp-tag-border-radius-round: var(--el-border-radius-round);

  // 关闭按钮
  --cmp-tag-close-margin: var(--el-tag-close-margin, 0 0 0 6px);
  --cmp-tag-close-size: var(--el-tag-close-size, 12px);
  --cmp-tag-close-color: var(--el-text-color-regular);
  --cmp-tag-close-hover-color: var(--el-text-color-primary);

  // 阴影
  --cmp-tag-shadow: var(--el-tag-shadow, none);
}
