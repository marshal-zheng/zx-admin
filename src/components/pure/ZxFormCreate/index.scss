// ZxFormCreate 组件样式
@import './var.scss';

.zx-form-create {
  background: var(--cmp-form-create-container-bg);
  border: 1px solid var(--cmp-form-create-container-border);
  border-radius: var(--cmp-form-create-container-border-radius);
  padding: var(--cmp-form-create-container-padding);
  color: var(--cmp-form-create-text-color);

  // 表单项样式
  .el-form-item {
    margin-bottom: var(--cmp-form-create-item-margin-bottom);

    .el-form-item__label {
      color: var(--cmp-form-create-item-label-color);
      font-size: var(--cmp-form-create-item-label-font-size);
      font-weight: var(--cmp-form-create-item-label-font-weight);
      line-height: var(--cmp-form-create-control-height);
    }

    .el-form-item__content {
      // 让内容区域根据控件自适应，并为错误信息预留空间
      line-height: 1.6;
      min-height: var(--cmp-form-create-control-height);
    }

    .el-form-item__error {
      color: var(--cmp-form-create-error-color);
      font-size: var(--cmp-form-create-error-font-size);
      margin-top: var(--cmp-form-create-error-margin-top);
      margin-bottom: var(--cmp-form-create-error-margin-bottom);
      line-height: 1.4;
      padding-bottom: 2px;
    }

    // 有错误时增加底部间距
    &.is-error {
      // 参考 Element Plus，当出现错误提示时，表单项与下一项的间距增大
      margin-bottom: calc(var(--cmp-form-create-item-margin-bottom) + 8px);
    }
  }

  // 输入框样式
  .el-input {
    .el-input__wrapper {
      border-color: var(--cmp-form-create-control-border-color);
      border-radius: var(--cmp-form-create-control-border-radius);
      transition: var(--cmp-form-create-fade-transition);

      &:hover {
        border-color: var(--cmp-form-create-control-hover-border);
      }

      &.is-focus {
        border-color: var(--cmp-form-create-control-focus-border);
        box-shadow: 0 0 0 1px var(--cmp-form-create-control-focus-border) inset;
      }
    }

    .el-input__inner {
      padding: var(--cmp-form-create-input-padding);
      font-size: var(--cmp-form-create-input-font-size);
      color: var(--cmp-form-create-text-color);

      &::placeholder {
        color: var(--cmp-form-create-input-placeholder-color);
      }
    }

    &.is-disabled {
      .el-input__wrapper {
        background-color: var(--cmp-form-create-control-disabled-bg);
        border-color: var(--cmp-form-create-control-disabled-border);
      }

      .el-input__inner {
        color: var(--cmp-form-create-control-disabled-text);
      }
    }
  }

  // 文本域样式
  .el-textarea {
    .el-textarea__inner {
      min-height: var(--cmp-form-create-textarea-min-height);
      resize: var(--cmp-form-create-textarea-resize);
      padding: var(--cmp-form-create-input-padding);
      font-size: var(--cmp-form-create-input-font-size);
      border-color: var(--cmp-form-create-control-border-color);
      border-radius: var(--cmp-form-create-control-border-radius);
      color: var(--cmp-form-create-text-color);
      transition: var(--cmp-form-create-fade-transition);

      &:hover {
        border-color: var(--cmp-form-create-control-hover-border);
      }

      &:focus {
        border-color: var(--cmp-form-create-control-focus-border);
        box-shadow: 0 0 0 1px var(--cmp-form-create-control-focus-border) inset;
      }

      &::placeholder {
        color: var(--cmp-form-create-input-placeholder-color);
      }
    }

    &.is-disabled {
      .el-textarea__inner {
        background-color: var(--cmp-form-create-control-disabled-bg);
        border-color: var(--cmp-form-create-control-disabled-border);
        color: var(--cmp-form-create-control-disabled-text);
      }
    }
  }

  // 数字输入框样式
  .el-input-number {
    .el-input__wrapper {
      border-color: var(--cmp-form-create-control-border-color);
      border-radius: var(--cmp-form-create-control-border-radius);

      &:hover {
        border-color: var(--cmp-form-create-control-hover-border);
      }

      &.is-focus {
        border-color: var(--cmp-form-create-control-focus-border);
      }
    }

    .el-input-number__decrease,
    .el-input-number__increase {
      width: var(--cmp-form-create-input-number-controls-width);
      background: var(--cmp-form-create-input-number-controls-bg);
      border-color: var(--cmp-form-create-input-number-controls-border);

      &:hover {
        background: var(--cmp-form-create-input-number-controls-hover-bg);
      }
    }
  }

  // 选择器样式
  .el-select {
    .el-select__wrapper {
      border-color: var(--cmp-form-create-control-border-color);
      border-radius: var(--cmp-form-create-control-border-radius);

      &:hover {
        border-color: var(--cmp-form-create-control-hover-border);
      }

      &.is-focus {
        border-color: var(--cmp-form-create-control-focus-border);
      }
    }

    .el-select__suffix {
      .el-icon {
        color: var(--cmp-form-create-select-arrow-color);
      }
    }
  }

  // 单选框样式
  .el-radio-group {
    display: flex;
    flex-wrap: wrap;
    gap: var(--cmp-form-create-radio-group-gap);

    .el-radio {
      .el-radio__input {
        .el-radio__inner {
          width: var(--cmp-form-create-radio-size);
          height: var(--cmp-form-create-radio-size);
          border-color: var(--cmp-form-create-radio-border-color);

          &:hover {
            border-color: var(--cmp-form-create-radio-checked-color);
          }
        }

        &.is-checked {
          .el-radio__inner {
            background-color: var(--cmp-form-create-radio-checked-color);
            border-color: var(--cmp-form-create-radio-checked-border);
          }
        }
      }

      .el-radio__label {
        color: var(--cmp-form-create-radio-label-color);
        margin: var(--cmp-form-create-radio-label-margin);
      }
    }
  }

  // 复选框样式
  .el-checkbox-group {
    display: flex;
    flex-wrap: wrap;
    gap: var(--cmp-form-create-radio-group-gap);

    .el-checkbox {
      .el-checkbox__input {
        .el-checkbox__inner {
          width: var(--cmp-form-create-radio-size);
          height: var(--cmp-form-create-radio-size);
          border-color: var(--cmp-form-create-radio-border-color);

          &:hover {
            border-color: var(--cmp-form-create-radio-checked-color);
          }
        }

        &.is-checked {
          .el-checkbox__inner {
            background-color: var(--cmp-form-create-radio-checked-color);
            border-color: var(--cmp-form-create-radio-checked-border);
          }
        }
      }

      .el-checkbox__label {
        color: var(--cmp-form-create-radio-label-color);
        margin: var(--cmp-form-create-radio-label-margin);
      }
    }
  }

  // 日期选择器样式
  .el-date-editor {
    .el-input__wrapper {
      border-color: var(--cmp-form-create-control-border-color);
      border-radius: var(--cmp-form-create-control-border-radius);

      &:hover {
        border-color: var(--cmp-form-create-control-hover-border);
      }

      &.is-focus {
        border-color: var(--cmp-form-create-control-focus-border);
      }
    }

    .el-input__prefix,
    .el-input__suffix {
      .el-icon {
        color: var(--cmp-form-create-date-picker-icon-color);
      }
    }

    .el-range-separator {
      color: var(--cmp-form-create-date-picker-separator-color);
    }
  }

  // 时间选择器样式
  .el-time-select,
  .el-time-picker {
    .el-input__wrapper {
      border-color: var(--cmp-form-create-control-border-color);
      border-radius: var(--cmp-form-create-control-border-radius);

      &:hover {
        border-color: var(--cmp-form-create-control-hover-border);
      }

      &.is-focus {
        border-color: var(--cmp-form-create-control-focus-border);
      }
    }
  }

  // 级联选择器样式
  .el-cascader {
    .el-input__wrapper {
      border-color: var(--cmp-form-create-control-border-color);
      border-radius: var(--cmp-form-create-control-border-radius);

      &:hover {
        border-color: var(--cmp-form-create-control-hover-border);
      }

      &.is-focus {
        border-color: var(--cmp-form-create-control-focus-border);
      }
    }
  }

  // 开关样式
  .el-switch {
    .el-switch__core {
      width: var(--cmp-form-create-switch-width);
      height: var(--cmp-form-create-switch-height);
      background-color: var(--cmp-form-create-switch-bg);
      border-radius: calc(var(--cmp-form-create-switch-height) / 2);

      &::after {
        width: var(--cmp-form-create-switch-core-size);
        height: var(--cmp-form-create-switch-core-size);
        background-color: var(--cmp-form-create-switch-core-bg);
        border-radius: 50%;
      }
    }

    &.is-checked {
      .el-switch__core {
        background-color: var(--cmp-form-create-switch-active-bg);
      }
    }
  }

  // 滑块样式
  .el-slider {
    .el-slider__runway {
      height: var(--cmp-form-create-slider-runway-height);
      background-color: var(--cmp-form-create-slider-runway-bg);
      border-radius: calc(var(--cmp-form-create-slider-runway-height) / 2);
    }

    .el-slider__bar {
      height: var(--cmp-form-create-slider-runway-height);
      background-color: var(--cmp-form-create-slider-bar-bg);
      border-radius: calc(var(--cmp-form-create-slider-runway-height) / 2);
    }

    .el-slider__button-wrapper {
      .el-slider__button {
        width: var(--cmp-form-create-slider-button-size);
        height: var(--cmp-form-create-slider-button-size);
        background-color: var(--cmp-form-create-slider-button-bg);
        border: var(--cmp-form-create-slider-button-border);
      }
    }
  }

  // 评分样式
  .el-rate {
    .el-rate__item {
      margin-right: var(--cmp-form-create-rate-star-margin);

      .el-rate__icon {
        font-size: var(--cmp-form-create-rate-star-size);
        color: var(--cmp-form-create-rate-star-color);
      }

      &.is-active {
        .el-rate__icon {
          color: var(--cmp-form-create-rate-star-active-color);
        }
      }
    }
  }

  // 颜色选择器样式
  .el-color-picker {
    .el-color-picker__trigger {
      padding: 0;
      width: var(--cmp-form-create-color-picker-size);
      height: var(--cmp-form-create-color-picker-size);
      border: 1px solid var(--cmp-form-create-color-picker-border);
      border-radius: var(--cmp-form-create-color-picker-border-radius);
    }
  }

  // 上传组件样式
  .el-upload {
    .el-upload-dragger {
      border: 2px var(--cmp-form-create-upload-border-style)
        var(--cmp-form-create-upload-border-color);
      background-color: var(--cmp-form-create-upload-bg);
      border-radius: var(--cmp-form-create-control-border-radius);
      color: var(--cmp-form-create-upload-text-color);
      transition: var(--cmp-form-create-fade-transition);

      &:hover {
        border-color: var(--cmp-form-create-upload-hover-border);
      }
    }
  }

  // 操作按钮区域样式
  .zx-form-create-actions {
    margin-top: var(--cmp-form-create-actions-margin-top);

    .el-form-item__content {
      display: flex;
      justify-content: var(--cmp-form-create-actions-justify);
      gap: var(--cmp-form-create-actions-gap);
    }
  }

  // 响应式样式
  @media (max-width: 768px) {
    padding: var(--cmp-form-create-mobile-padding);

    .el-form-item {
      margin-bottom: var(--cmp-form-create-mobile-item-margin);

      &.el-form-item--small {
        .el-form-item__label {
          width: var(--cmp-form-create-mobile-label-width) !important;
          margin-bottom: 8px;
        }

        .el-form-item__content {
          margin-left: 0 !important;
        }
      }
    }

    .zx-form-create-actions {
      .el-form-item__content {
        flex-direction: column;
        align-items: stretch;

        .el-button {
          margin-bottom: 8px;

          &:last-child {
            margin-bottom: 0;
          }
        }
      }
    }
  }

  // 加载状态样式
  &.is-loading {
    position: relative;

    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--cmp-form-create-loading-bg);
      border-radius: var(--cmp-form-create-container-border-radius);
      z-index: 999;
    }
  }

  // 禁用状态样式
  &.is-disabled {
    opacity: 0.6;
    pointer-events: none;
  }

  // 动画效果
  * {
    transition: var(--cmp-form-create-transition-duration) var(--cmp-form-create-transition-timing);
  }
}
