// ZxSplitBox 分割面板组件样式
// 基于 Element Plus 的分割面板组件样式定义

// 导入变量定义
@import './var.scss';

// 主容器样式
.zx-split-box {
  position: relative;
  width: 100%;
  height: 100%;
  background-color: var(--cmp-split-box-bg);
  border-radius: var(--cmp-split-box-radius);
  overflow: hidden;

  // 水平布局
  &--horizontal {
    display: flex;
    flex-direction: row;
  }

  // 垂直布局
  &--vertical {
    display: flex;
    flex-direction: column;
  }

  // 展开状态
  &--expanded {
    .zx-split-box__first {
      transition: var(--cmp-split-box-transition);
    }
  }

  // 动画状态
  &--animating {
    .zx-split-box__first {
      transition: var(--cmp-split-box-transition);
    }

    .zx-split-box__second {
      transition: var(--cmp-split-box-transition);
    }
  }

  // 禁用状态
  &--disabled {
    .zx-split-box__divider {
      cursor: var(--cmp-split-box-disabled-cursor);

      &:hover {
        background-color: var(--cmp-split-box-divider-bg);
      }
    }

    .zx-split-box__expand-trigger {
      display: none;
    }
  }
}

// 第一个面板
.zx-split-box__first {
  position: relative;
  overflow: hidden;
  background-color: var(--cmp-split-box-bg);
  padding: var(--cmp-split-box-panel-padding);
  margin: var(--cmp-split-box-panel-margin);

  &.zx-split-box__left {
    border-right: 1px solid var(--cmp-split-box-border);
  }

  &.zx-split-box__top {
    border-bottom: 1px solid var(--cmp-split-box-border);
  }
}

// 第二个面板
.zx-split-box__second {
  position: relative;
  flex: 1;
  overflow: hidden;
  background-color: var(--cmp-split-box-bg);
  padding: var(--cmp-split-box-panel-padding);
  margin: var(--cmp-split-box-panel-margin);

  &.zx-split-box__right {
    // 右侧面板样式
  }

  &.zx-split-box__bottom {
    // 底部面板样式
  }
}

// 分割线
.zx-split-box__divider {
  position: relative;
  background-color: var(--cmp-split-box-divider-bg);
  transition: var(--cmp-split-box-transition);
  z-index: var(--cmp-split-box-divider-z-index);

  // 水平分割线
  &--horizontal {
    width: var(--cmp-split-box-divider-width);
    cursor: col-resize;
    display: flex;
    align-items: center;
    justify-content: center;

    &:hover {
      background-color: var(--cmp-split-box-divider-hover-bg);
      box-shadow: var(--cmp-split-box-divider-shadow);

      .zx-split-box__divider-line {
        background-color: rgba(255, 255, 255, var(--cmp-split-box-divider-line-hover-opacity));
      }
    }

    &:active {
      background-color: var(--cmp-split-box-divider-active-bg);
    }
  }

  // 垂直分割线
  &--vertical {
    height: var(--cmp-split-box-divider-width);
    cursor: row-resize;
    display: flex;
    align-items: center;
    justify-content: center;

    &:hover {
      background-color: var(--cmp-split-box-divider-hover-bg);
      box-shadow: var(--cmp-split-box-divider-shadow);

      .zx-split-box__divider-line {
        background-color: rgba(255, 255, 255, var(--cmp-split-box-divider-line-hover-opacity));
      }
    }

    &:active {
      background-color: var(--cmp-split-box-divider-active-bg);
    }
  }
}

// 分割线内部线条
.zx-split-box__divider-line {
  background-color: var(--cmp-split-box-divider-line-color);
  transition: var(--cmp-split-box-transition);
  opacity: var(--cmp-split-box-divider-line-opacity);

  .zx-split-box__divider--horizontal & {
    width: var(--cmp-split-box-divider-line-width);
    height: var(--cmp-split-box-divider-line-length);
  }

  .zx-split-box__divider--vertical & {
    width: var(--cmp-split-box-divider-line-length);
    height: var(--cmp-split-box-divider-line-width);
  }
}

// 展开/收起按钮
.zx-split-box__expand-trigger {
  position: absolute;
  z-index: var(--cmp-split-box-expand-z-index);
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--cmp-split-box-expand-bg);
  border-radius: var(--cmp-split-box-expand-radius);
  cursor: pointer;
  transition: var(--cmp-split-box-transition);
  opacity: var(--cmp-split-box-expand-opacity);

  &:hover {
    opacity: var(--cmp-split-box-expand-hover-opacity);
    background-color: var(--cmp-split-box-expand-hover-bg);

    .zx-split-box__expand-icon {
      color: var(--cmp-split-box-expand-icon-hover-color);
    }
  }

  &:active {
    background-color: var(--cmp-split-box-expand-active-bg);
  }

  // 左侧展开按钮
  &--left {
    top: 50%;
    left: 0;
    transform: translateY(-50%);
    width: var(--cmp-split-box-expand-width);
    height: var(--cmp-split-box-expand-height);
    border-radius: 0 var(--cmp-split-box-expand-radius) var(--cmp-split-box-expand-radius) 0;
  }

  // 右侧展开按钮
  &--right {
    top: 50%;
    right: 0;
    transform: translateY(-50%);
    width: var(--cmp-split-box-expand-width);
    height: var(--cmp-split-box-expand-height);
    border-radius: var(--cmp-split-box-expand-radius) 0 0 var(--cmp-split-box-expand-radius);
  }

  // 顶部展开按钮
  &--top {
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: var(--cmp-split-box-expand-height);
    height: var(--cmp-split-box-expand-width);
    border-radius: 0 0 var(--cmp-split-box-expand-radius) var(--cmp-split-box-expand-radius);
  }
}

// 展开按钮图标
.zx-split-box__expand-icon {
  color: var(--cmp-split-box-expand-icon-color);
  font-size: var(--cmp-split-box-expand-icon-size);
  transition: var(--cmp-split-box-transition);
}

// 悬停时显示展开按钮
.zx-split-box__first:hover,
.zx-split-box__second:hover {
  .zx-split-box__expand-trigger {
    opacity: var(--cmp-split-box-expand-hover-opacity);
  }
}

// 拖拽时的样式
.zx-split-box--resizing {
  user-select: var(--cmp-split-box-resizing-user-select);

  .zx-split-box__first,
  .zx-split-box__second {
    pointer-events: var(--cmp-split-box-resizing-pointer-events);
  }

  .zx-split-box__divider {
    background-color: var(--cmp-split-box-divider-active-bg);
  }
}

// 响应式设计
@media (max-width: 768px) {
  .zx-split-box {
    // 移动端强制垂直布局
    &--horizontal {
      flex-direction: column;
    }

    .zx-split-box__divider--horizontal {
      width: 100%;
      height: var(--cmp-split-box-mobile-divider-width);
      cursor: row-resize;
    }

    .zx-split-box__expand-trigger {
      // 移动端增大触摸区域
      &--left,
      &--right {
        width: var(--cmp-split-box-mobile-expand-width);
        height: var(--cmp-split-box-mobile-expand-height);
      }

      &--top {
        width: var(--cmp-split-box-mobile-expand-height);
        height: var(--cmp-split-box-mobile-expand-width);
      }
    }
  }
}

// 主题跟随 Element Plus 系统，无需额外的暗色主题定义

// 滚动条样式
.zx-split-box__first,
.zx-split-box__second {
  &::-webkit-scrollbar {
    width: var(--cmp-split-box-scrollbar-width);
    height: var(--cmp-split-box-scrollbar-height);
  }

  &::-webkit-scrollbar-track {
    background: var(--cmp-split-box-scrollbar-track);
    border-radius: var(--cmp-split-box-scrollbar-radius);
  }

  &::-webkit-scrollbar-thumb {
    background: var(--cmp-split-box-scrollbar-thumb);
    border-radius: var(--cmp-split-box-scrollbar-radius);

    &:hover {
      background: var(--cmp-split-box-scrollbar-thumb-hover);
    }
  }
}
