// ZxTooltipOrPopover 组件样式
@import './var.scss';

// Tooltip 样式
.zx-tooltip {
  // 使用 CSS 变量定义样式
  .el-tooltip__popper {
    background-color: var(--cmp-tooltip-bg);
    color: var(--cmp-tooltip-text-color);
    border: 1px solid var(--cmp-tooltip-border-color);
    border-radius: var(--cmp-tooltip-border-radius);
    padding: var(--cmp-tooltip-padding);
    font-size: var(--cmp-tooltip-font-size);
    line-height: var(--cmp-tooltip-line-height);
    max-width: var(--cmp-tooltip-max-width);
    z-index: var(--cmp-tooltip-z-index);
    box-shadow: var(--cmp-tooltip-shadow);
    transition: opacity var(--cmp-tooltip-transition-duration) var(--cmp-tooltip-transition-timing);

    // 箭头样式
    .el-popper__arrow {
      &::before {
        border-color: var(--cmp-tooltip-arrow-color);
      }
    }
  }

  // 响应式设计
  @media (max-width: 768px) {
    .el-tooltip__popper {
      max-width: var(--cmp-mobile-max-width);
      padding: var(--cmp-mobile-padding);
      font-size: var(--cmp-mobile-font-size);
    }
  }
}

// Popover 样式
.zx-popover {
  .el-popover {
    background-color: var(--cmp-popover-bg);
    color: var(--cmp-popover-text-color);
    border: 1px solid var(--cmp-popover-border-color);
    border-radius: var(--cmp-popover-border-radius);
    padding: var(--cmp-popover-padding);
    font-size: var(--cmp-popover-font-size);
    line-height: var(--cmp-popover-line-height);
    max-width: var(--cmp-popover-max-width);
    min-width: var(--cmp-popover-min-width);
    z-index: var(--cmp-popover-z-index);
    box-shadow: var(--cmp-popover-shadow);
    transition: opacity var(--cmp-popover-transition-duration) var(--cmp-popover-transition-timing);

    // 标题样式
    .el-popover__title {
      color: var(--cmp-popover-title-color);
      font-size: var(--cmp-popover-title-font-size);
      font-weight: var(--cmp-popover-title-font-weight);
      margin: var(--cmp-popover-title-margin);
      padding: var(--cmp-popover-title-padding);
    }

    // 内容样式
    .el-popover__content {
      color: var(--cmp-popover-content-color);
      font-size: var(--cmp-popover-content-font-size);
      line-height: var(--cmp-popover-content-line-height);
    }

    // 箭头样式
    .el-popper__arrow {
      &::before {
        border-color: var(--cmp-popover-arrow-border-color);
        background-color: var(--cmp-popover-arrow-color);
      }
    }
  }

  // 响应式设计
  @media (max-width: 768px) {
    .el-popover {
      max-width: var(--cmp-mobile-max-width);
      padding: var(--cmp-mobile-padding);
      font-size: var(--cmp-mobile-font-size);
    }
  }
}

// 通用样式
.zx-tooltip-or-popover {
  // 触发器样式
  .zx-tooltip-trigger,
  .zx-popover-trigger {
    cursor: pointer;
    transition: color var(--cmp-tooltip-transition-duration) var(--cmp-tooltip-transition-timing);

    &:hover {
      color: var(--cmp-trigger-hover-color);
    }

    &:active {
      color: var(--cmp-trigger-active-color);
    }

    &.is-disabled {
      color: var(--cmp-trigger-disabled-color);
      cursor: not-allowed;
    }
  }
}

// 内容区域样式
.zx-tooltip-or-popover-content {
  // 可以在这里添加内容区域的特殊样式
  word-wrap: break-word;
  word-break: break-all;
}

// 增强交互体验的样式
.zx-tooltip,
.zx-popover {
  // 确保tooltip/popover在鼠标移动过程中不会消失
  .el-tooltip__popper,
  .el-popover {
    // 添加一个小的缓冲区域，减少意外关闭
    &::before {
      content: '';
      position: absolute;
      top: -5px;
      left: -5px;
      right: -5px;
      bottom: -5px;
      z-index: -1;
      pointer-events: auto;
    }
  }
}
