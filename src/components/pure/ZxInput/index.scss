// ZxInput 输入框组件样式
// 纯净组件样式，充分利用 Element Plus 的品牌色 CSS3 变量

// 导入变量定义
@import './var.scss';

// 所有样式包装在 zx-input-wrapper 下
.zx-input-wrapper {
  display: inline-block;
  width: 100%;

  .zx-input {
    position: relative;
    display: inline-block;
    width: 100%;
    font-size: var(--cmp-input-font-size);
    line-height: 1.5;

    // 基础样式增强
    .el-input {
      transition: var(--cmp-input-transition);

      .el-input__wrapper {
        border-color: var(--cmp-input-border-color);
        background-color: var(--cmp-input-background-color);
        transition: var(--cmp-input-transition);

        &:hover {
          border-color: var(--cmp-input-border-color-hover);
        }

        &.is-focus {
          border-color: var(--cmp-input-border-color-focus);
          box-shadow: var(--cmp-input-box-shadow-focus);
        }
      }

      .el-input__inner {
        color: var(--cmp-input-text-color);
        font-size: var(--cmp-input-font-size);
        transition: var(--cmp-input-transition);

        &::placeholder {
          color: var(--cmp-input-text-color-placeholder);
        }
      }

      &.is-disabled {
        .el-input__wrapper {
          background-color: var(--cmp-input-background-color-disabled);
          border-color: var(--cmp-input-border-color-disabled);
          cursor: not-allowed;
        }

        .el-input__inner {
          color: var(--cmp-input-text-color-disabled);
          cursor: not-allowed;
        }
      }
    }

    // 数字输入框样式
    .el-input-number {
      width: fit-content;
      transition: var(--cmp-input-transition);

      .el-input__wrapper {
        border-color: var(--cmp-input-border-color);
        background-color: var(--cmp-input-background-color);
        transition: var(--cmp-input-transition);

        &:hover {
          border-color: var(--cmp-input-border-color-hover);
        }

        &.is-focus {
          border-color: var(--cmp-input-border-color-focus);
          box-shadow: var(--cmp-input-box-shadow-focus);
        }
      }

      .el-input__inner {
        color: var(--cmp-input-text-color);
        font-size: var(--cmp-input-font-size);
        transition: var(--cmp-input-transition);

        &::placeholder {
          color: var(--cmp-input-text-color-placeholder);
        }
      }

      &.is-disabled {
        .el-input__wrapper {
          background-color: var(--cmp-input-background-color-disabled);
          border-color: var(--cmp-input-border-color-disabled);
          cursor: not-allowed;
        }

        .el-input__inner {
          color: var(--cmp-input-text-color-disabled);
          cursor: not-allowed;
        }
      }

      // 数字控制按钮样式
      .el-input-number__increase,
      .el-input-number__decrease {
        color: var(--cmp-input-number-controls-color);

        &:hover {
          color: var(--cmp-input-number-controls-hover-color);
        }
      }
    }

    // 尺寸变体
    &.zx-input--large {
      font-size: var(--cmp-input-font-size-large);

      .el-input .el-input__inner,
      .el-input-number .el-input__inner {
        font-size: var(--cmp-input-font-size-large);
      }
    }

    &.zx-input--small {
      font-size: var(--cmp-input-font-size-small);

      .el-input .el-input__inner,
      .el-input-number .el-input__inner {
        font-size: var(--cmp-input-font-size-small);
      }
    }

    // 类型变体
    &.zx-input--textarea {
      .el-textarea {
        .el-textarea__inner {
          color: var(--cmp-input-text-color);
          font-size: var(--cmp-input-font-size);
          border-color: var(--cmp-input-border-color);
          background-color: var(--cmp-input-background-color);
          transition: var(--cmp-input-transition);
          min-height: var(--cmp-textarea-min-height);
          resize: var(--cmp-textarea-resize);

          &::placeholder {
            color: var(--cmp-input-text-color-placeholder);
          }

          &:hover {
            border-color: var(--cmp-input-border-color-hover);
          }

          &:focus {
            border-color: var(--cmp-input-border-color-focus);
            box-shadow: var(--cmp-input-box-shadow-focus);
          }
        }

        &.is-disabled {
          .el-textarea__inner {
            background-color: var(--cmp-input-background-color-disabled);
            border-color: var(--cmp-input-border-color-disabled);
            color: var(--cmp-input-text-color-disabled);
            cursor: not-allowed;
          }
        }
      }
    }

    &.zx-input--search {
      .el-input-group__append {
        .el-button {
          background-color: var(--cmp-search-button-bg);
          border-color: var(--cmp-search-button-bg);
          color: var(--cmp-search-button-color);

          &:hover {
            background-color: var(--cmp-search-button-hover-bg);
            border-color: var(--cmp-search-button-hover-bg);
          }
        }
      }
    }

    &.zx-input--number {
      width: fit-content;
    }

    // 状态变体
    &.zx-input--disabled {
      cursor: not-allowed;
    }

    &.zx-input--readonly {
      .el-input .el-input__inner,
      .el-input-number .el-input__inner,
      .el-textarea .el-textarea__inner {
        cursor: default;
      }
    }

    // 验证状态
    &.zx-input--success {
      .el-input__wrapper,
      .el-textarea__inner {
        border-color: var(--cmp-input-success-border);
      }
    }

    &.zx-input--warning {
      .el-input__wrapper,
      .el-textarea__inner {
        border-color: var(--cmp-input-warning-border);
      }
    }

    &.zx-input--error {
      .el-input__wrapper,
      .el-textarea__inner {
        border-color: var(--cmp-input-error-border);
      }
    }

    // 图标样式
    .el-input__prefix,
    .el-input__suffix {
      .el-input__icon {
        color: var(--cmp-input-icon-color);

        &:hover {
          color: var(--cmp-input-icon-hover-color);
        }
      }
    }

    // 清除按钮
    .el-input__clear {
      color: var(--cmp-input-clear-color);

      &:hover {
        color: var(--cmp-input-clear-hover-color);
      }
    }

    // 字数统计
    .el-input__count {
      color: var(--cmp-input-count-color);
      background-color: var(--cmp-input-count-bg);
    }

    // 组件内部样式
    .zx-input__component {
      width: 100%;

      &.zx-input__component--number {
        width: fit-content;
      }
    }

    // 响应式设计
    @media (max-width: 768px) {
      &.zx-input--number {
        width: 100%;

        .el-input-number {
          width: 100%;
        }
      }
    }
  }
}

// 工具提示增强
.el-tooltip__popper {
  &.zx-input-tooltip {
    max-width: 300px;
    word-wrap: break-word;
    word-break: break-all;
  }
}
